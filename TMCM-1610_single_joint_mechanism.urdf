<?xml version="1.0"?>

<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

    <ros2_control name="tmcm_1610_single_joint_kinematics" type="system">
        <hardware>
            <plugin>soem_driver/SOEMDriver</plugin>
            <ec_interface>enx00e04c05e466</ec_interface>
            <ec_cycle_us>1000</ec_cycle_us>
            <ec_timeout_pd_us>200</ec_timeout_pd_us>
            <ec_timeout_mbxrx_us>100</ec_timeout_mbxrx_us>
            <ec_timeout_mbxtx_us>100</ec_timeout_mbxtx_us>
            
            <!-- KR-843 -->
            <!-- 
            <ec_slave name="gateway">
                <alias>0</alias>
                <position>1</position>
            </ec_slave>
            -->

            <!-- TMCM-1610 -->
            <ec_slave name="controller_0">
                <alias>0</alias>
                <position>2</position>
                <plugin>soem_slave_modules/trinamic_tmcm1610</plugin>                
                <param name="encoder_ticks">4000</param>
                <param name="gear_ratio">0.00641025</param>
                <param name="torque_constant">0</param>
            </ec_slave>
        </hardware>

        <joint name="joint_0">
            <state_interface name="position"/>
            <state_interface name="velocity"/>
            <state_interface name="effort"/>
            <command_interface name="velocity"/>
            <param name="ec_claims">[controller_0/joint]</param>
        </joint>
    </ros2_control>

</robot>